2025-10-20T00:01:03.893+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T00:01:03.897+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T00:01:03.897+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T00:01:03.897+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T00:01:03.900+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T00:01:03.901+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@62956310
2025-10-20T00:01:03.901+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2f6f80bc
2025-10-20T00:01:03.901+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T00:01:03.901+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-10-20T00:01:03.916+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/manager/upload?
2025-10-20T00:01:03.920+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] e.p.c.filter.JWTAuthorizationFilter      : [진입]:[1][JWTAuthorizationFilter] 토큰 확인 필터 진입
2025-10-20T00:01:03.921+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] e.p.c.filter.JWTAuthorizationFilter      : [발행된 토큰] : Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjE5NzM5MTAsInVzZXJJZCI6InVzZXIyIiwicm9sZSI6Ik1BTkFHRVIiLCJsb2NhdGlvbl9pZCI6Mn0._KVh0eoRXoewTjl_vfIdPx5G2TZRwb2Nn774EQLPRpM
2025-10-20T00:01:03.921+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] e.p.c.filter.JWTAuthorizationFilter      : [완료]:[2][JWTAuthorizationFilter] 토큰 확인 완료
2025-10-20T00:01:04.057+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] e.p.c.filter.JWTAuthorizationFilter      : [진행]:[5][JWTAuthorizationFilter] username(id) 검색 시작
2025-10-20T00:01:04.058+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] e.p.c.filter.JWTAuthorizationFilter      : [진행]:[6][JWTAuthorizationFilter] 사용자 찾음
2025-10-20T00:01:04.058+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] e.p.c.filter.JWTAuthorizationFilter      : [진행]:[7][JWTAuthorizationFilter] ROLE 값: [ROLE_MANAGER]
2025-10-20T00:01:04.059+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] e.p.c.filter.JWTAuthorizationFilter      : [성공]:[8][JWTAuthorizationFilter] 토큰 확인 완료 

2025-10-20T00:01:04.062+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/manager/upload?
2025-10-20T00:01:04.063+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/manager/upload", parameters={multipart}
2025-10-20T00:01:04.078+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to edu.pnu.controller.CsvController#uploadCsv(MultipartFile, CustomUserDetails)
2025-10-20T00:01:04.094+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.controller.CsvController         : [API-REQ] CSV 파일 업로드 요청 - user: user2, file: GaRaData.csv
2025-10-20T00:01:04.099+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveService       : [1] [CsvSaveService] [진입] : CsvSaveService 진입 성공 / 업로더 = user2
2025-10-20T00:01:04.103+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] START - 파일 업로드 시작
2025-10-20T00:01:04.111+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveService       : [2] [CsvSaveService] [진입] : [validateFile] file 확장자 검사
2025-10-20T00:01:04.111+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveService       : [2] [CsvSaveService] [진입] : [validateFile] file 확장자 검사 완료
2025-10-20T00:01:04.111+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveService       : [3] [CsvSaveService] [진입] : [createAndSaveCsvMetadata] CSV Meta 정보 저장 진입
2025-10-20T00:01:04.111+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveService       : [3] [CsvSaveService] [진입] : [createAndSaveCsvMetadata] CSV Meta 정보 저장 성공, originalFileName = GaRaData.csv
2025-10-20T00:01:04.143+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] INFO  - 메타데이터 저장 완료 (fileId=11)
2025-10-20T00:01:04.143+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveService       : [4] [CsvSaveService] [진입] : [storeFileToDisk] BE 서버에 저장 진입
2025-10-20T00:01:04.146+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveService       : [4] [CsvSaveService] [완료] : [storeFileToDisk] BE 서버에 저장 완료
2025-10-20T00:01:04.146+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] INFO  - 디스크 저장 완료: 4a46a43e-a372-41de-a732-aee480dfa...(truncated)
2025-10-20T00:01:04.183+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] INFO  - 파싱 준비 완료. 청크 처리 시작
2025-10-20T00:01:04.183+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveService       : [5] [CsvSaveService] [진입] : [parseAndProcessFile] 파싱 프로세스 진입 성공
2025-10-20T00:01:04.212+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveJdbcService   : [성공] : [CsvSaveJdbcService] Location batch insert 완료! 저장 건수: 8
2025-10-20T00:01:04.214+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveJdbcService   : [성공] : [CsvSaveJdbcService] Product batch insert 완료! 저장 건수: 1
2025-10-20T00:01:04.221+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveJdbcService   : [성공] : [CsvSaveJdbcService] Epc batch insert 완료! 저장 건수: 5
2025-10-20T00:01:04.228+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] ERROR - CSV 처리 중 치명적 오류: Cannot invoke "java.lang....(truncated)
2025-10-20T00:01:04.234+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler edu.pnu.exception.GlobalExceptionHandler#handleAll(Exception)
2025-10-20T00:01:04.245+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2025-10-20T00:01:04.246+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["서버 내부 오류: CSV 처리 중 오류가 발생했습니다."]
2025-10-20T00:01:04.251+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.RuntimeException: CSV 처리 중 오류가 발생했습니다.]
2025-10-20T00:01:04.253+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T00:10:29.336+09:00  INFO 5800 --- [DevelopProject] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T00:10:29.446+09:00  INFO 5800 --- [DevelopProject] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T00:10:29.448+09:00 DEBUG 5800 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-10-20T00:10:29.448+09:00 DEBUG 5800 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-10-20T00:10:29.448+09:00  INFO 5800 --- [DevelopProject] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2025-10-20T00:10:29.448+09:00  INFO 5800 --- [DevelopProject] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@57d2b7bd]]
2025-10-20T00:10:29.448+09:00 DEBUG 5800 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@57d2b7bd]
2025-10-20T00:10:29.448+09:00 DEBUG 5800 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@57d2b7bd]
2025-10-20T00:10:29.448+09:00  INFO 5800 --- [DevelopProject] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2025-10-20T00:10:29.449+09:00 DEBUG 5800 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-10-20T00:10:29.449+09:00 DEBUG 5800 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-10-20T00:10:29.454+09:00  INFO 5800 --- [DevelopProject] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T00:10:29.456+09:00  INFO 5800 --- [DevelopProject] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T00:10:29.461+09:00  INFO 5800 --- [DevelopProject] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T00:10:36.917+09:00  INFO 14072 --- [DevelopProject] [main] edu.pnu.DevelopProjectApplication        : Starting DevelopProjectApplication using Java 17.0.12 with PID 14072 (C:\Users\9191h\Documents\GitHub\DevelopProject\target\classes started by 9191h in C:\Users\9191h\Documents\GitHub\DevelopProject)
2025-10-20T00:10:36.921+09:00  INFO 14072 --- [DevelopProject] [main] edu.pnu.DevelopProjectApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-20T00:10:37.452+09:00  INFO 14072 --- [DevelopProject] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 5 ms.
2025-10-20T00:10:37.634+09:00  INFO 14072 --- [DevelopProject] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T00:10:37.715+09:00  INFO 14072 --- [DevelopProject] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 76 ms. Found 13 JPA repository interfaces.
2025-10-20T00:10:38.068+09:00  INFO 14072 --- [DevelopProject] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T00:10:38.077+09:00  INFO 14072 --- [DevelopProject] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T00:10:38.077+09:00  INFO 14072 --- [DevelopProject] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-10-20T00:10:38.113+09:00  INFO 14072 --- [DevelopProject] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T00:10:38.113+09:00  INFO 14072 --- [DevelopProject] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1157 ms
2025-10-20T00:10:38.205+09:00  INFO 14072 --- [DevelopProject] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T00:10:38.240+09:00  INFO 14072 --- [DevelopProject] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-10-20T00:10:38.264+09:00  INFO 14072 --- [DevelopProject] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T00:10:38.433+09:00  INFO 14072 --- [DevelopProject] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T00:10:38.450+09:00  INFO 14072 --- [DevelopProject] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T00:10:38.628+09:00  INFO 14072 --- [DevelopProject] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@45539bd8
2025-10-20T00:10:38.629+09:00  INFO 14072 --- [DevelopProject] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T00:10:38.664+09:00  WARN 14072 --- [DevelopProject] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-20T00:10:38.665+09:00  WARN 14072 --- [DevelopProject] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-10-20T00:10:38.681+09:00  INFO 14072 --- [DevelopProject] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T00:10:39.384+09:00  INFO 14072 --- [DevelopProject] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T00:10:39.497+09:00  INFO 14072 --- [DevelopProject] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T00:10:39.681+09:00  INFO 14072 --- [DevelopProject] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-20T00:10:40.582+09:00  INFO 14072 --- [DevelopProject] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: MYSQL
2025-10-20T00:10:40.611+09:00  INFO 14072 --- [DevelopProject] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-10-20T00:10:40.615+09:00  INFO 14072 --- [DevelopProject] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-10-20T00:10:40.775+09:00  WARN 14072 --- [DevelopProject] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T00:10:40.812+09:00  INFO 14072 --- [DevelopProject] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name securityUserDetailsService
2025-10-20T00:10:40.872+09:00  INFO 14072 --- [DevelopProject] [main] edu.pnu.config.WebSocketConfig           : [진입] : [WebSocketConfig] WebSocket 엔드포인트 설정을 시작합니다.
2025-10-20T00:10:40.876+09:00  INFO 14072 --- [DevelopProject] [main] edu.pnu.config.WebSocketConfig           : [완료] : [WebSocketConfig] '/webSocket' 엔드포인트가 설정되었습니다.
2025-10-20T00:10:40.890+09:00 DEBUG 14072 --- [DevelopProject] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/webSocket/**] in 'stompWebSocketHandlerMapping'
2025-10-20T00:10:40.941+09:00 DEBUG 14072 --- [DevelopProject] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2025-10-20T00:10:40.971+09:00 DEBUG 14072 --- [DevelopProject] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-20T00:10:41.008+09:00 DEBUG 14072 --- [DevelopProject] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JWTAuthorizationFilter, JWTAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-20T00:10:41.063+09:00 DEBUG 14072 --- [DevelopProject] [main] .WebSocketAnnotationMethodMessageHandler : 
	e.p.c.CsvController:
	
2025-10-20T00:10:41.063+09:00 DEBUG 14072 --- [DevelopProject] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-10-20T00:10:41.064+09:00 DEBUG 14072 --- [DevelopProject] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-10-20T00:10:41.064+09:00 DEBUG 14072 --- [DevelopProject] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-10-20T00:10:41.064+09:00 DEBUG 14072 --- [DevelopProject] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.w.u.SwaggerConfigResource:
	
2025-10-20T00:10:41.119+09:00 DEBUG 14072 --- [DevelopProject] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T00:10:41.157+09:00 DEBUG 14072 --- [DevelopProject] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T00:10:41.302+09:00 DEBUG 14072 --- [DevelopProject] [main] org.springframework.web.SimpLogging      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-10-20T00:10:41.303+09:00 DEBUG 14072 --- [DevelopProject] [main] org.springframework.web.SimpLogging      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-10-20T00:10:41.304+09:00  INFO 14072 --- [DevelopProject] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2025-10-20T00:10:41.304+09:00 DEBUG 14072 --- [DevelopProject] [main] org.springframework.web.SimpLogging      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@721b38e0]
2025-10-20T00:10:41.305+09:00 DEBUG 14072 --- [DevelopProject] [main] org.springframework.web.SimpLogging      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@721b38e0]
2025-10-20T00:10:41.305+09:00  INFO 14072 --- [DevelopProject] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@721b38e0]]
2025-10-20T00:10:41.306+09:00  INFO 14072 --- [DevelopProject] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2025-10-20T00:10:41.308+09:00 DEBUG 14072 --- [DevelopProject] [main] org.springframework.web.SimpLogging      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-10-20T00:10:41.308+09:00 DEBUG 14072 --- [DevelopProject] [main] org.springframework.web.SimpLogging      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-10-20T00:10:41.326+09:00  INFO 14072 --- [DevelopProject] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T00:10:41.336+09:00  INFO 14072 --- [DevelopProject] [main] edu.pnu.DevelopProjectApplication        : Started DevelopProjectApplication in 4.788 seconds (process running for 5.236)
2025-10-20T00:10:46.859+09:00  INFO 14072 --- [DevelopProject] [http-nio-8080-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T00:10:46.859+09:00  INFO 14072 --- [DevelopProject] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T00:10:46.859+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T00:10:46.859+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T00:10:46.859+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T00:10:46.860+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2adc9300
2025-10-20T00:10:46.860+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@382b008d
2025-10-20T00:10:46.860+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T00:10:46.860+09:00  INFO 14072 --- [DevelopProject] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-20T00:10:46.872+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/manager/upload?
2025-10-20T00:10:46.875+09:00  INFO 14072 --- [DevelopProject] [http-nio-8080-exec-5] e.p.c.filter.JWTAuthorizationFilter      : [진입]:[1][JWTAuthorizationFilter] 토큰 확인 필터 진입
2025-10-20T00:10:46.875+09:00  INFO 14072 --- [DevelopProject] [http-nio-8080-exec-5] e.p.c.filter.JWTAuthorizationFilter      : [발행된 토큰] : Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjE5NzM5MTAsInVzZXJJZCI6InVzZXIyIiwicm9sZSI6Ik1BTkFHRVIiLCJsb2NhdGlvbl9pZCI6Mn0._KVh0eoRXoewTjl_vfIdPx5G2TZRwb2Nn774EQLPRpM
2025-10-20T00:10:46.875+09:00  INFO 14072 --- [DevelopProject] [http-nio-8080-exec-5] e.p.c.filter.JWTAuthorizationFilter      : [완료]:[2][JWTAuthorizationFilter] 토큰 확인 완료
2025-10-20T00:10:46.990+09:00  INFO 14072 --- [DevelopProject] [http-nio-8080-exec-5] e.p.c.filter.JWTAuthorizationFilter      : [진행]:[5][JWTAuthorizationFilter] username(id) 검색 시작
2025-10-20T00:10:46.990+09:00  INFO 14072 --- [DevelopProject] [http-nio-8080-exec-5] e.p.c.filter.JWTAuthorizationFilter      : [진행]:[6][JWTAuthorizationFilter] 사용자 찾음
2025-10-20T00:10:46.990+09:00  INFO 14072 --- [DevelopProject] [http-nio-8080-exec-5] e.p.c.filter.JWTAuthorizationFilter      : [진행]:[7][JWTAuthorizationFilter] ROLE 값: [ROLE_MANAGER]
2025-10-20T00:10:46.992+09:00  INFO 14072 --- [DevelopProject] [http-nio-8080-exec-5] e.p.c.filter.JWTAuthorizationFilter      : [성공]:[8][JWTAuthorizationFilter] 토큰 확인 완료 

2025-10-20T00:10:46.995+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/manager/upload?
2025-10-20T00:10:46.996+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/manager/upload", parameters={multipart}
2025-10-20T00:10:47.009+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to edu.pnu.controller.CsvController#uploadCsv(MultipartFile, CustomUserDetails)
2025-10-20T00:10:47.024+09:00  INFO 14072 --- [DevelopProject] [http-nio-8080-exec-5] edu.pnu.controller.CsvController         : [API-REQ] CSV 파일 업로드 요청 - user: user2, file: GaRaData.csv
2025-10-20T00:10:47.028+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] edu.pnu.service.csv.CsvSaveService       : [1] [CsvSaveService] [진입] : CsvSaveService 진입 성공 / 업로더 = user2
2025-10-20T00:10:47.031+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] START - 파일 업로드 시작
2025-10-20T00:10:47.036+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] edu.pnu.service.csv.CsvSaveService       : [2] [CsvSaveService] [진입] : [validateFile] file 확장자 검사
2025-10-20T00:10:47.037+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] edu.pnu.service.csv.CsvSaveService       : [2] [CsvSaveService] [진입] : [validateFile] file 확장자 검사 완료
2025-10-20T00:10:47.037+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] edu.pnu.service.csv.CsvSaveService       : [3] [CsvSaveService] [진입] : [createAndSaveCsvMetadata] CSV Meta 정보 저장 진입
2025-10-20T00:10:47.037+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] edu.pnu.service.csv.CsvSaveService       : [3] [CsvSaveService] [진입] : [createAndSaveCsvMetadata] CSV Meta 정보 저장 성공, originalFileName = GaRaData.csv
2025-10-20T00:10:47.062+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] INFO  - 메타데이터 저장 완료 (fileId=12)
2025-10-20T00:10:47.062+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] edu.pnu.service.csv.CsvSaveService       : [4] [CsvSaveService] [진입] : [storeFileToDisk] BE 서버에 저장 진입
2025-10-20T00:10:47.064+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] edu.pnu.service.csv.CsvSaveService       : [4] [CsvSaveService] [완료] : [storeFileToDisk] BE 서버에 저장 완료
2025-10-20T00:10:47.065+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] INFO  - 디스크 저장 완료: a38fc90b-852f-41fb-b41a-1c8a65043...(truncated)
2025-10-20T00:10:47.097+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] INFO  - 파싱 준비 완료. 청크 처리 시작
2025-10-20T00:10:47.097+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] edu.pnu.service.csv.CsvSaveService       : [5] [CsvSaveService] [진입] : [parseAndProcessFile] 파싱 프로세스 진입 성공
2025-10-20T00:10:47.143+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] edu.pnu.service.csv.CsvSaveJdbcService   : [CsvSaveJdbcService] [성공] :  [saveCsvLocations] Location batch insert 완료! 저장 건수: 8
2025-10-20T00:10:47.148+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] edu.pnu.service.csv.CsvSaveJdbcService   : [CsvSaveJdbcService] [성공] : [saveCsvProducts] Product batch insert 완료! 저장 건수: 1
2025-10-20T00:10:47.157+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] edu.pnu.service.csv.CsvSaveJdbcService   : [CsvSaveJdbcService] [성공] : [saveEpcs] Epc batch insert 완료! 저장 건수: 5
2025-10-20T00:10:47.170+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] ERROR - CSV 처리 중 치명적 오류: Cannot invoke "java.lang....(truncated)
2025-10-20T00:10:47.177+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler edu.pnu.exception.GlobalExceptionHandler#handleAll(Exception)
2025-10-20T00:10:47.190+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2025-10-20T00:10:47.190+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["서버 내부 오류: CSV 처리 중 오류가 발생했습니다."]
2025-10-20T00:10:47.194+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.RuntimeException: CSV 처리 중 오류가 발생했습니다.]
2025-10-20T00:10:47.195+09:00 DEBUG 14072 --- [DevelopProject] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T00:11:41.282+09:00  INFO 14072 --- [DevelopProject] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-10-20T00:14:31.459+09:00  INFO 14072 --- [DevelopProject] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T00:14:31.601+09:00  INFO 14072 --- [DevelopProject] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T00:14:31.607+09:00 DEBUG 14072 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-10-20T00:14:31.607+09:00 DEBUG 14072 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-10-20T00:14:31.607+09:00  INFO 14072 --- [DevelopProject] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2025-10-20T00:14:31.607+09:00  INFO 14072 --- [DevelopProject] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@721b38e0]]
2025-10-20T00:14:31.607+09:00 DEBUG 14072 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@721b38e0]
2025-10-20T00:14:31.607+09:00 DEBUG 14072 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@721b38e0]
2025-10-20T00:14:31.607+09:00  INFO 14072 --- [DevelopProject] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2025-10-20T00:14:31.607+09:00 DEBUG 14072 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-10-20T00:14:31.607+09:00 DEBUG 14072 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-10-20T00:14:31.613+09:00  INFO 14072 --- [DevelopProject] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T00:14:31.613+09:00  INFO 14072 --- [DevelopProject] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T00:14:31.622+09:00  INFO 14072 --- [DevelopProject] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T00:14:36.828+09:00  INFO 18944 --- [DevelopProject] [main] edu.pnu.DevelopProjectApplication        : Starting DevelopProjectApplication using Java 17.0.12 with PID 18944 (C:\Users\9191h\Documents\GitHub\DevelopProject\target\classes started by 9191h in C:\Users\9191h\Documents\GitHub\DevelopProject)
2025-10-20T00:14:36.845+09:00  INFO 18944 --- [DevelopProject] [main] edu.pnu.DevelopProjectApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-20T00:14:37.506+09:00  INFO 18944 --- [DevelopProject] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 4 ms.
2025-10-20T00:14:37.714+09:00  INFO 18944 --- [DevelopProject] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T00:14:37.784+09:00  INFO 18944 --- [DevelopProject] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 13 JPA repository interfaces.
2025-10-20T00:14:38.181+09:00  INFO 18944 --- [DevelopProject] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T00:14:38.189+09:00  INFO 18944 --- [DevelopProject] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T00:14:38.190+09:00  INFO 18944 --- [DevelopProject] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-10-20T00:14:38.232+09:00  INFO 18944 --- [DevelopProject] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T00:14:38.232+09:00  INFO 18944 --- [DevelopProject] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1347 ms
2025-10-20T00:14:38.326+09:00  INFO 18944 --- [DevelopProject] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T00:14:38.365+09:00  INFO 18944 --- [DevelopProject] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-10-20T00:14:38.384+09:00  INFO 18944 --- [DevelopProject] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T00:14:38.580+09:00  INFO 18944 --- [DevelopProject] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T00:14:38.602+09:00  INFO 18944 --- [DevelopProject] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T00:14:38.795+09:00  INFO 18944 --- [DevelopProject] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@662713b6
2025-10-20T00:14:38.798+09:00  INFO 18944 --- [DevelopProject] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T00:14:38.842+09:00  WARN 18944 --- [DevelopProject] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-20T00:14:38.843+09:00  WARN 18944 --- [DevelopProject] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-10-20T00:14:38.856+09:00  INFO 18944 --- [DevelopProject] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T00:14:39.860+09:00  INFO 18944 --- [DevelopProject] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T00:14:40.010+09:00  INFO 18944 --- [DevelopProject] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T00:14:40.235+09:00  INFO 18944 --- [DevelopProject] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-20T00:14:41.321+09:00  INFO 18944 --- [DevelopProject] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: MYSQL
2025-10-20T00:14:41.350+09:00  INFO 18944 --- [DevelopProject] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-10-20T00:14:41.354+09:00  INFO 18944 --- [DevelopProject] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-10-20T00:14:41.513+09:00  WARN 18944 --- [DevelopProject] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T00:14:41.557+09:00  INFO 18944 --- [DevelopProject] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name securityUserDetailsService
2025-10-20T00:14:41.618+09:00  INFO 18944 --- [DevelopProject] [main] edu.pnu.config.WebSocketConfig           : [진입] : [WebSocketConfig] WebSocket 엔드포인트 설정을 시작합니다.
2025-10-20T00:14:41.623+09:00  INFO 18944 --- [DevelopProject] [main] edu.pnu.config.WebSocketConfig           : [완료] : [WebSocketConfig] '/webSocket' 엔드포인트가 설정되었습니다.
2025-10-20T00:14:41.639+09:00 DEBUG 18944 --- [DevelopProject] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/webSocket/**] in 'stompWebSocketHandlerMapping'
2025-10-20T00:14:41.698+09:00 DEBUG 18944 --- [DevelopProject] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2025-10-20T00:14:41.726+09:00 DEBUG 18944 --- [DevelopProject] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-20T00:14:41.770+09:00 DEBUG 18944 --- [DevelopProject] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JWTAuthorizationFilter, JWTAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-20T00:14:41.824+09:00 DEBUG 18944 --- [DevelopProject] [main] .WebSocketAnnotationMethodMessageHandler : 
	e.p.c.CsvController:
	
2025-10-20T00:14:41.825+09:00 DEBUG 18944 --- [DevelopProject] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-10-20T00:14:41.826+09:00 DEBUG 18944 --- [DevelopProject] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-10-20T00:14:41.826+09:00 DEBUG 18944 --- [DevelopProject] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-10-20T00:14:41.826+09:00 DEBUG 18944 --- [DevelopProject] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.w.u.SwaggerConfigResource:
	
2025-10-20T00:14:41.875+09:00 DEBUG 18944 --- [DevelopProject] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T00:14:41.912+09:00 DEBUG 18944 --- [DevelopProject] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T00:14:42.086+09:00 DEBUG 18944 --- [DevelopProject] [main] org.springframework.web.SimpLogging      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-10-20T00:14:42.087+09:00 DEBUG 18944 --- [DevelopProject] [main] org.springframework.web.SimpLogging      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-10-20T00:14:42.088+09:00  INFO 18944 --- [DevelopProject] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2025-10-20T00:14:42.088+09:00 DEBUG 18944 --- [DevelopProject] [main] org.springframework.web.SimpLogging      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@347a171e]
2025-10-20T00:14:42.090+09:00 DEBUG 18944 --- [DevelopProject] [main] org.springframework.web.SimpLogging      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@347a171e]
2025-10-20T00:14:42.090+09:00  INFO 18944 --- [DevelopProject] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@347a171e]]
2025-10-20T00:14:42.091+09:00  INFO 18944 --- [DevelopProject] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2025-10-20T00:14:42.092+09:00 DEBUG 18944 --- [DevelopProject] [main] org.springframework.web.SimpLogging      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-10-20T00:14:42.093+09:00 DEBUG 18944 --- [DevelopProject] [main] org.springframework.web.SimpLogging      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-10-20T00:14:42.112+09:00  INFO 18944 --- [DevelopProject] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T00:14:42.119+09:00  INFO 18944 --- [DevelopProject] [main] edu.pnu.DevelopProjectApplication        : Started DevelopProjectApplication in 5.688 seconds (process running for 6.162)
2025-10-20T00:14:53.596+09:00  INFO 18944 --- [DevelopProject] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T00:14:53.596+09:00  INFO 18944 --- [DevelopProject] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T00:14:53.596+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T00:14:53.596+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T00:14:53.596+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T00:14:53.596+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@10320992
2025-10-20T00:14:53.596+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@46a0c2df
2025-10-20T00:14:53.596+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T00:14:53.596+09:00  INFO 18944 --- [DevelopProject] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-10-20T00:14:53.612+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/manager/upload?
2025-10-20T00:14:53.617+09:00  INFO 18944 --- [DevelopProject] [http-nio-8080-exec-2] e.p.c.filter.JWTAuthorizationFilter      : [진입]:[1][JWTAuthorizationFilter] 토큰 확인 필터 진입
2025-10-20T00:14:53.617+09:00  INFO 18944 --- [DevelopProject] [http-nio-8080-exec-2] e.p.c.filter.JWTAuthorizationFilter      : [발행된 토큰] : Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjE5NzM5MTAsInVzZXJJZCI6InVzZXIyIiwicm9sZSI6Ik1BTkFHRVIiLCJsb2NhdGlvbl9pZCI6Mn0._KVh0eoRXoewTjl_vfIdPx5G2TZRwb2Nn774EQLPRpM
2025-10-20T00:14:53.617+09:00  INFO 18944 --- [DevelopProject] [http-nio-8080-exec-2] e.p.c.filter.JWTAuthorizationFilter      : [완료]:[2][JWTAuthorizationFilter] 토큰 확인 완료
2025-10-20T00:14:53.730+09:00  INFO 18944 --- [DevelopProject] [http-nio-8080-exec-2] e.p.c.filter.JWTAuthorizationFilter      : [진행]:[5][JWTAuthorizationFilter] username(id) 검색 시작
2025-10-20T00:14:53.730+09:00  INFO 18944 --- [DevelopProject] [http-nio-8080-exec-2] e.p.c.filter.JWTAuthorizationFilter      : [진행]:[6][JWTAuthorizationFilter] 사용자 찾음
2025-10-20T00:14:53.730+09:00  INFO 18944 --- [DevelopProject] [http-nio-8080-exec-2] e.p.c.filter.JWTAuthorizationFilter      : [진행]:[7][JWTAuthorizationFilter] ROLE 값: [ROLE_MANAGER]
2025-10-20T00:14:53.730+09:00  INFO 18944 --- [DevelopProject] [http-nio-8080-exec-2] e.p.c.filter.JWTAuthorizationFilter      : [성공]:[8][JWTAuthorizationFilter] 토큰 확인 완료 

2025-10-20T00:14:53.736+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/manager/upload?
2025-10-20T00:14:53.738+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/manager/upload", parameters={multipart}
2025-10-20T00:14:53.752+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to edu.pnu.controller.CsvController#uploadCsv(MultipartFile, CustomUserDetails)
2025-10-20T00:14:53.769+09:00  INFO 18944 --- [DevelopProject] [http-nio-8080-exec-2] edu.pnu.controller.CsvController         : [API-REQ] CSV 파일 업로드 요청 - user: user2, file: GaRaData.csv
2025-10-20T00:14:53.771+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] edu.pnu.service.csv.CsvSaveService       : [1] [CsvSaveService] [진입] : CsvSaveService 진입 성공 / 업로더 = user2
2025-10-20T00:14:53.771+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] START - 파일 업로드 시작
2025-10-20T00:14:53.771+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] edu.pnu.service.csv.CsvSaveService       : [2] [CsvSaveService] [진입] : [validateFile] file 확장자 검사
2025-10-20T00:14:53.771+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] edu.pnu.service.csv.CsvSaveService       : [2] [CsvSaveService] [진입] : [validateFile] file 확장자 검사 완료
2025-10-20T00:14:53.771+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] edu.pnu.service.csv.CsvSaveService       : [3] [CsvSaveService] [진입] : [createAndSaveCsvMetadata] CSV Meta 정보 저장 진입
2025-10-20T00:14:53.782+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] edu.pnu.service.csv.CsvSaveService       : [3] [CsvSaveService] [진입] : [createAndSaveCsvMetadata] CSV Meta 정보 저장 성공, originalFileName = GaRaData.csv
2025-10-20T00:14:53.807+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] INFO  - 메타데이터 저장 완료 (fileId=13)
2025-10-20T00:14:53.807+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] edu.pnu.service.csv.CsvSaveService       : [4] [CsvSaveService] [진입] : [storeFileToDisk] BE 서버에 저장 진입
2025-10-20T00:14:53.807+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] edu.pnu.service.csv.CsvSaveService       : [4] [CsvSaveService] [완료] : [storeFileToDisk] BE 서버에 저장 완료
2025-10-20T00:14:53.807+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] INFO  - 디스크 저장 완료: 5e0c8e24-816d-4623-b523-5be70eaf8...(truncated)
2025-10-20T00:14:53.834+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] INFO  - 파싱 준비 완료. 청크 처리 시작
2025-10-20T00:14:53.834+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] edu.pnu.service.csv.CsvSaveService       : [5] [CsvSaveService] [진입] : [parseAndProcessFile] 파싱 프로세스 진입 성공
2025-10-20T00:14:53.856+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] edu.pnu.service.csv.CsvSaveService       : [진입] : [processChunk] 청크 처리를 위한 private 메서드 진입
2025-10-20T00:14:53.858+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] edu.pnu.service.csv.CsvSaveJdbcService   : [CsvSaveJdbcService] [성공] :  [saveCsvLocations] Location batch insert 완료! 저장 건수: 8
2025-10-20T00:14:53.865+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] edu.pnu.service.csv.CsvSaveJdbcService   : [CsvSaveJdbcService] [성공] : [saveCsvProducts] Product batch insert 완료! 저장 건수: 1
2025-10-20T00:14:53.870+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] edu.pnu.service.csv.CsvSaveJdbcService   : [CsvSaveJdbcService] [성공] : [saveEpcs] Epc batch insert 완료! 저장 건수: 5
2025-10-20T00:14:53.876+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] ERROR - CSV 처리 중 치명적 오류: Cannot invoke "java.lang....(truncated)
2025-10-20T00:14:53.881+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler edu.pnu.exception.GlobalExceptionHandler#handleAll(Exception)
2025-10-20T00:14:53.881+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2025-10-20T00:14:53.881+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["서버 내부 오류: CSV 처리 중 오류가 발생했습니다."]
2025-10-20T00:14:53.896+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.RuntimeException: CSV 처리 중 오류가 발생했습니다.]
2025-10-20T00:14:53.897+09:00 DEBUG 18944 --- [DevelopProject] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T00:15:42.079+09:00  INFO 18944 --- [DevelopProject] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-10-20T00:20:47.632+09:00  INFO 18944 --- [DevelopProject] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T00:20:47.783+09:00  INFO 18944 --- [DevelopProject] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T00:20:47.796+09:00 DEBUG 18944 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-10-20T00:20:47.796+09:00 DEBUG 18944 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-10-20T00:20:47.796+09:00  INFO 18944 --- [DevelopProject] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2025-10-20T00:20:47.796+09:00  INFO 18944 --- [DevelopProject] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@347a171e]]
2025-10-20T00:20:47.796+09:00 DEBUG 18944 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@347a171e]
2025-10-20T00:20:47.796+09:00 DEBUG 18944 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@347a171e]
2025-10-20T00:20:47.796+09:00  INFO 18944 --- [DevelopProject] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2025-10-20T00:20:47.796+09:00 DEBUG 18944 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-10-20T00:20:47.796+09:00 DEBUG 18944 --- [DevelopProject] [SpringApplicationShutdownHook] org.springframework.web.SimpLogging      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-10-20T00:20:47.803+09:00  INFO 18944 --- [DevelopProject] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T00:20:47.803+09:00  INFO 18944 --- [DevelopProject] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T00:20:47.815+09:00  INFO 18944 --- [DevelopProject] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
