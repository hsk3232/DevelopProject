2025-10-20T00:01:03.893+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T00:01:03.897+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T00:01:03.897+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T00:01:03.897+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T00:01:03.900+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T00:01:03.901+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@62956310
2025-10-20T00:01:03.901+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2f6f80bc
2025-10-20T00:01:03.901+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T00:01:03.901+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-10-20T00:01:03.916+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/manager/upload?
2025-10-20T00:01:03.920+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] e.p.c.filter.JWTAuthorizationFilter      : [진입]:[1][JWTAuthorizationFilter] 토큰 확인 필터 진입
2025-10-20T00:01:03.921+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] e.p.c.filter.JWTAuthorizationFilter      : [발행된 토큰] : Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjE5NzM5MTAsInVzZXJJZCI6InVzZXIyIiwicm9sZSI6Ik1BTkFHRVIiLCJsb2NhdGlvbl9pZCI6Mn0._KVh0eoRXoewTjl_vfIdPx5G2TZRwb2Nn774EQLPRpM
2025-10-20T00:01:03.921+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] e.p.c.filter.JWTAuthorizationFilter      : [완료]:[2][JWTAuthorizationFilter] 토큰 확인 완료
2025-10-20T00:01:04.057+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] e.p.c.filter.JWTAuthorizationFilter      : [진행]:[5][JWTAuthorizationFilter] username(id) 검색 시작
2025-10-20T00:01:04.058+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] e.p.c.filter.JWTAuthorizationFilter      : [진행]:[6][JWTAuthorizationFilter] 사용자 찾음
2025-10-20T00:01:04.058+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] e.p.c.filter.JWTAuthorizationFilter      : [진행]:[7][JWTAuthorizationFilter] ROLE 값: [ROLE_MANAGER]
2025-10-20T00:01:04.059+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] e.p.c.filter.JWTAuthorizationFilter      : [성공]:[8][JWTAuthorizationFilter] 토큰 확인 완료 

2025-10-20T00:01:04.062+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/manager/upload?
2025-10-20T00:01:04.063+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/manager/upload", parameters={multipart}
2025-10-20T00:01:04.078+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to edu.pnu.controller.CsvController#uploadCsv(MultipartFile, CustomUserDetails)
2025-10-20T00:01:04.094+09:00  INFO 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.controller.CsvController         : [API-REQ] CSV 파일 업로드 요청 - user: user2, file: GaRaData.csv
2025-10-20T00:01:04.099+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveService       : [1] [CsvSaveService] [진입] : CsvSaveService 진입 성공 / 업로더 = user2
2025-10-20T00:01:04.103+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] START - 파일 업로드 시작
2025-10-20T00:01:04.111+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveService       : [2] [CsvSaveService] [진입] : [validateFile] file 확장자 검사
2025-10-20T00:01:04.111+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveService       : [2] [CsvSaveService] [진입] : [validateFile] file 확장자 검사 완료
2025-10-20T00:01:04.111+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveService       : [3] [CsvSaveService] [진입] : [createAndSaveCsvMetadata] CSV Meta 정보 저장 진입
2025-10-20T00:01:04.111+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveService       : [3] [CsvSaveService] [진입] : [createAndSaveCsvMetadata] CSV Meta 정보 저장 성공, originalFileName = GaRaData.csv
2025-10-20T00:01:04.143+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] INFO  - 메타데이터 저장 완료 (fileId=11)
2025-10-20T00:01:04.143+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveService       : [4] [CsvSaveService] [진입] : [storeFileToDisk] BE 서버에 저장 진입
2025-10-20T00:01:04.146+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveService       : [4] [CsvSaveService] [완료] : [storeFileToDisk] BE 서버에 저장 완료
2025-10-20T00:01:04.146+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] INFO  - 디스크 저장 완료: 4a46a43e-a372-41de-a732-aee480dfa...(truncated)
2025-10-20T00:01:04.183+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] INFO  - 파싱 준비 완료. 청크 처리 시작
2025-10-20T00:01:04.183+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveService       : [5] [CsvSaveService] [진입] : [parseAndProcessFile] 파싱 프로세스 진입 성공
2025-10-20T00:01:04.212+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveJdbcService   : [성공] : [CsvSaveJdbcService] Location batch insert 완료! 저장 건수: 8
2025-10-20T00:01:04.214+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveJdbcService   : [성공] : [CsvSaveJdbcService] Product batch insert 완료! 저장 건수: 1
2025-10-20T00:01:04.221+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] edu.pnu.service.csv.CsvSaveJdbcService   : [성공] : [CsvSaveJdbcService] Epc batch insert 완료! 저장 건수: 5
2025-10-20T00:01:04.228+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] org.springframework.web.SimpLogging      : Processing MESSAGE destination=/notify/user2 session=null payload=[1단계/CSV] ERROR - CSV 처리 중 치명적 오류: Cannot invoke "java.lang....(truncated)
2025-10-20T00:01:04.234+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler edu.pnu.exception.GlobalExceptionHandler#handleAll(Exception)
2025-10-20T00:01:04.245+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2025-10-20T00:01:04.246+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["서버 내부 오류: CSV 처리 중 오류가 발생했습니다."]
2025-10-20T00:01:04.251+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.RuntimeException: CSV 처리 중 오류가 발생했습니다.]
2025-10-20T00:01:04.253+09:00 DEBUG 5800 --- [DevelopProject] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
